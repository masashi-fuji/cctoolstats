---
priority: 2
tags: ["cli", "options"]
description: "CLIオプションの充実 - 現在プロジェクト、全プロジェクト、特定プロジェクト指定オプション"
created_at: "2025-08-08T14:11:56Z"
started_at: null  # Do not modify manually
closed_at: null   # Do not modify manually
---

# CLIオプションの充実

ユーザーが柔軟に統計情報を取得できるようにCLIオプションを充実させます。現在プロジェクト、全プロジェクト、特定プロジェクトの選択能力を提供します。

**TDD手法の使用**: Kent Beck流のTDD手法（Red → Green → Refactor）を使用して実装すること。テストファーストで開発を進める。

**lsmcp活用**: lsmcp（TypeScript Language Server）を積極的に活用すること。型エラーの検出、インポート文の整理、リファクタリング支援に活用。

## Tasks

- [ ] --current: 現在のプロジェクトのみ（デフォルト）オプション
- [ ] --all: 全プロジェクト対象オプション
- [ ] --project <path>: 特定プロジェクト指定オプション
- [ ] オプションパーサーの実装（commander.js等）
- [ ] ヘルプメッセージの充実
- [ ] バージョン表示機能
- [ ] src/cli.tsのオプション処理機能更新
- [ ] CLIオプションの統合テスト作成
- [ ] Run tests before closing and pass all tests (No exceptions)
- [ ] Get developer approval before closing

## Notes

### 実装するCLIオプション

#### 基本オプション
- `--current`: 現在のプロジェクトのみ統計表示（デフォルト）
- `--all`: 全プロジェクトの統計を結合表示
- `--project <path>`: 指定したプロジェクトパスの統計表示

#### ユーティリティオプション
- `-h, --help`: ヘルプメッセージ表示
- `-v, --version`: バージョン情報表示
- `--format <type>`: 出力フォーマット指定（table/json/csv）
- `--verbose`: 詳細ログ表示

### CLI使用例
```bash
# 現在のプロジェクトのみ（デフォルト）
npx cctoolstats
npx cctoolstats --current

# 全プロジェクトの統計
npx cctoolstats --all

# 特定プロジェクトの統計
npx cctoolstats --project /path/to/project

# JSONフォーマットで出力
npx cctoolstats --format json

# ヘルプ表示
npx cctoolstats --help
```

### 技術要件
- `commander.js` や `yargs` 等のCLIライブラリの活用
- オプションのバリデーション処理
- エラーメッセージの丁寧な表示
- ヘルプメッセージの国際化対応

### 実装順序
1. CLIオプションのテスト作成（Red フェーズ）
2. 基本オプションの最小実装（Green フェーズ）
3. ヘルプやバリデーションの充実（Refactor フェーズ）

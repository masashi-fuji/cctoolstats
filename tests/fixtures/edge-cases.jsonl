{"parentUuid":null,"isSidechain":false,"userType":"external","cwd":"/edge-case","sessionId":"edge-001","version":"1.0.60","gitBranch":"","type":"assistant","timestamp":"2025-01-04T00:00:00Z","uuid":"edge-001","message":{"role":"assistant","content":[]}}
{"parentUuid":"edge-001","isSidechain":false,"userType":"external","cwd":"/edge-case","sessionId":"edge-001","version":"1.0.60","gitBranch":"","type":"assistant","timestamp":"2025-01-04T00:01:00Z","uuid":"edge-002","message":{"role":"assistant","content":[{"type":"text","text":"Just text, no tools"}]}}
{"parentUuid":"edge-002","isSidechain":false,"userType":"external","cwd":"/edge-case","sessionId":"edge-001","version":"1.0.60","gitBranch":"","type":"user","timestamp":"2025-01-04T00:02:00Z","uuid":"edge-003","message":{"role":"user","content":[{"type":"text","text":"User response"}]}}
{"parentUuid":"edge-003","isSidechain":false,"userType":"external","cwd":"/edge-case","sessionId":"edge-001","version":"1.0.60","gitBranch":"","type":"assistant","timestamp":"2025-01-04T00:03:00Z","uuid":"edge-004","message":{"role":"assistant","content":[{"type":"tool_use","id":"toolu_edge01","name":"UnknownTool","input":{"param":"value"}}]}}
{"parentUuid":"edge-004","isSidechain":false,"userType":"external","cwd":"/edge-case","sessionId":"edge-001","version":"1.0.60","gitBranch":"","type":"user","timestamp":"2025-01-04T00:03:05Z","uuid":"edge-005","message":{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_edge01","content":"Error: Unknown tool","is_error":true}]}}
{"parentUuid":"edge-005","isSidechain":false,"userType":"external","cwd":"/edge-case","sessionId":"edge-002","version":"1.0.60","gitBranch":"","type":"assistant","timestamp":"2025-01-04T00:04:00Z","uuid":"edge-006","message":{"role":"assistant","content":[{"type":"tool_use","id":"toolu_edge02","name":"Task","input":{"command":"do something"}}]}}
{"parentUuid":"edge-006","isSidechain":false,"userType":"external","cwd":"/edge-case","sessionId":"edge-002","version":"1.0.60","gitBranch":"","type":"assistant","timestamp":"2025-01-04T00:05:00Z","uuid":"edge-007","message":{"role":"assistant","content":[{"type":"tool_use","id":"toolu_edge03","name":"Agent","input":{"subagent_type":"edge-agent","instructions":"Edge case"}}]}}
{"parentUuid":"edge-007","isSidechain":false,"userType":"external","cwd":"/edge-case","sessionId":"edge-002","version":"1.0.60","gitBranch":"","type":"system","timestamp":"2025-01-04T00:06:00Z","uuid":"edge-008","content":"System message without message field"}
{"parentUuid":null,"isSidechain":true,"userType":"internal","cwd":"/edge-case","sessionId":"edge-002","version":"1.0.60","gitBranch":"","type":"assistant","timestamp":"2025-01-04T00:07:00Z","uuid":"edge-009","message":{"role":"assistant","content":[{"type":"tool_use","id":"toolu_edge04","name":"Bash","input":{"command":"echo 'sidechain'"}}]}}
{"not":"valid","json":"structure","missing":"required fields"}